## go 程序是怎么运行起来的？

任何一个由编译型语言编写的程序在被操作系统加载起来执行都会经过如下阶段:

1. 从磁盘将可执行程序读入内存
2. 创建进程与主线程
3. 为主线程分配栈空间
4. 把由用户在命令行输入的参数拷贝到主线程的栈
5. 把主线程放入到操作系统的运行队列等待被调度起来执行

### 监控程序执行

使用go语言自身的调试库`gdb`来监控程序执行：

1. 命令行输入`gdb xx.exe`：监控`xx.exe`执行，可以得到入口指针Entry point
2. 命令行输入 `b *Entry point对应的地址`：打断点，可以得到代码对应源文件所在位置。

由上可知：go程序执行入口并不是main函数， 它在启动后会进行一系列的初始化操作，如初始化内存和栈，初始化调度器（GMP模型）等等，这些初始化都是通过go汇编完成的，main函数是go程序中的第一个执行的Goroutine。
